<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:ui="http://java.sun.com/jsf/facelets" 
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  xmlns:h="http://java.sun.com/jsf/html">
  
  <div class="flex-row material">
    <div class="flex-cell-full">
      <div class="flex-row">
        <div class="lg-flex-cell-12 lg-flex-cell-first md-flex-cell-12 md-flex-cell-first sm-flex-cell-11 sm-flex-cell-first no-margin-bottom material-title-container">
          <div class="flex-row">
            <div class="flex-cell-full no-margin-top">
              <h4>
                <img class="icon" jsf:name="/gfx/icons/48x48/forge/icon-#{material.icon}.png" jsf:library="novus"/>
                <a jsf:rendered="#{material.viewable}" jsf:outcome="/forge/public-material.jsf?path=#{material.path}">#{material.title}</a>
                <a jsf:rendered="#{!material.viewable}" jsf:value="#{material.downloadLink}">#{material.title}</a>
              </h4>
            </div>
          </div>
          
          <div class="flex-row">
            <div class="flex-cell-full no-margin-bottom">
              <p class="modified">
                <h:outputFormat value="#{locales['forge.public.generic.materialModified']}">
                  <f:param value="#{material.modified}"/>
                </h:outputFormat>
              </p>
            </div>
          </div>          
        </div>

        <ui:fragment rendered="#{material.creativeCommonsIconUrl eq null}">
          <div class="lg-flex-cell-4 lg-flex-cell-last md-flex-cell-4 md-flex-cell-last sm-flex-cell-4 sm-flex-cell-last flex-right no-margin-bottom license-link-container">
            <a target="_blank" class="license-link" href="#{material.license}">#{material.license}</a>
          </div>
        </ui:fragment>
          
        <ui:fragment rendered="#{material.creativeCommonsIconUrl ne null}">
          <div class="lg-flex-cell-4 lg-flex-cell-last md-flex-cell-4 md-flex-cell-last sm-flex-cell-5 sm-flex-cell-last flex-right no-margin-bottom">
            <a target="_blank" href="#{material.license}">
              <img src="#{material.creativeCommonsIconUrl}" />
            </a>
          </div>
        </ui:fragment>
      </div> 

      <div class="flex-row">
        <div class="flex-cell-full">
          <ui:fragment rendered="#{!empty(material.description)}">
            <p class="description">#{material.description}</p>
          </ui:fragment>
        </div>
      </div>
      
      <div class="flex-row">
        <div class="flex-cell-full material-tags">
          <a jsf:outcome="/forge/public-materials.jsf?userId=#{material.creatorId}" class="creator-tag">#{material.creatorName}</a>
          <ui:repeat var="tag" value="#{material.tags}">
            <a jsf:outcome="/forge/public-materials.jsf?tags=#{tag}" class="tag">#{tag}</a>
          </ui:repeat>
        </div>
      </div>  
      
    </div>
  </div>
  
</ui:composition>