<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:ui="http://java.sun.com/jsf/facelets" 
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" 
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  template="/WEB-INF/templates/gridbase.xhtml">

  <ui:define name="page-title">#{locales['illusion.event.payment.pageTitle']}</ui:define>
  
  <ui:define name="view-stylesheets">
    <h:outputStylesheet library="novus" name="css/menu.css"/>
    <h:outputStylesheet library="novus" name="css/illusion-event-common.css"/>
    <h:outputStylesheet library="novus" name="css/illusion-event-payment.css"/>
  </ui:define>

  <ui:define name="grid-content">

    <!-- Menu -->

    <ui:include src="/facelets/menu.xhtml" />
    
    <!-- Header -->
    
    <h:panelGroup layout="block" styleClass="grid_16 tight view-header">
      <!-- Navigation -->
      
      <h:panelGroup layout="block" styleClass="view-header-navigation">
        <h:panelGroup styleClass="view-header-navigation-item">
          <h:link outcome="/index.jsf">#{locales['illusion.event.payment.navigationIndex']}</h:link>
        </h:panelGroup>
        <h:panelGroup styleClass="view-header-navigation-separator"/>
        <h:panelGroup styleClass="view-header-navigation-item">
          <h:link outcome="/illusion/index.jsf">#{locales['illusion.event.payment.navigationIllusion']}</h:link>
        </h:panelGroup>
        <h:panelGroup styleClass="view-header-navigation-separator"/>
        <h:panelGroup styleClass="view-header-navigation-item">
          <h:link outcome="illusion/event-payment.jsf" value="#{locales['illusion.event.payment.navigationIllusionEventPayment']}">
            <f:param name="urlName" value="#{illusionEventPaymentBackingBean.urlName}"/>
          </h:link>
        </h:panelGroup>
      </h:panelGroup>
  
      <!-- Description -->
  
      <h:panelGroup layout="block" styleClass="view-header-description">
        <p class="view-header-description-title">#{locales['illusion.event.payment.descriptionTitle']}</p>
        <p class="view-header-description-text">#{locales['illusion.event.payment.descriptionText']}</p>
      </h:panelGroup>
    </h:panelGroup>
    
    <!-- Content -->

    <h:form>
      <div class="grid_16 tight">
        <div class="illusion-event-payment-panel">
          <div class="illusion-event-payment-info">#{locales['illusion.event.payment.paymentInfo']}</div>
          
          <h3>#{locales['illusion.event.payment.contactInformationTitle']}</h3>
          
          <div class="illusion-event-payment-fields">
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.companyLabel']}</label>
              <input type="text" jsf:value="#{illusionEventPaymentBackingBean.company}" />
            </div>
            
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.firstNameLabel']}</label>
              <input type="text" required="required" jsf:value="#{illusionEventPaymentBackingBean.firstName}" />
            </div>
            
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.lastNameLabel']}</label>
              <input type="text" required="required" jsf:value="#{illusionEventPaymentBackingBean.lastName}" />
            </div>
            
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.emailLabel']}</label>
              <input type="text" required="required" jsf:value="#{illusionEventPaymentBackingBean.email}" />
            </div>
            
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.mobileLabel']}</label>
              <input type="text" jsf:value="#{illusionEventPaymentBackingBean.mobile}" />
            </div>
            
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.phoneLabel']}</label>
              <input type="text" jsf:value="#{illusionEventPaymentBackingBean.phone}" />
            </div>
            
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.streetAddressLabel']}</label>
              <input type="text" required="required" jsf:value="#{illusionEventPaymentBackingBean.streetAddress}" />
            </div>
            
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.postalCodeLabel']}</label>
              <input type="text" required="required" jsf:value="#{illusionEventPaymentBackingBean.postalCode}" />
            </div>
            
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.postalOfficeLabel']}</label>
              <input type="text" required="required" jsf:value="#{illusionEventPaymentBackingBean.postalOffice}" />
            </div>
            
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.countryLabel']}</label>
              <h:selectOneMenu value="#{illusionEventPaymentBackingBean.countryId}" >
                <f:selectItems value="#{illusionEventPaymentBackingBean.countrySelectItems}"/>
              </h:selectOneMenu>
            </div>
            
            <div class="illusion-event-payment-field"> 
              <label>#{locales['illusion.event.payment.notesLabel']}</label>
              <textarea jsf:value="#{illusionEventPaymentBackingBean.notes}"></textarea>
            </div>
          </div>

          <h3>#{locales['illusion.event.payment.summaryTitle']}</h3>
          
          <div class="illusion-event-payment-summary"> 
            <div class="illusion-event-payment-summary-row">
              <label>#{locales['illusion.event.payment.signUpFee']}</label>
              <span>
                <h:outputFormat value="#{illusionEventPaymentBackingBean.signUpFee}">
                  <f:convertNumber currencyCode="#{illusionEventPaymentBackingBean.currency}" type="currency"/>
                </h:outputFormat>
              </span>
            </div>

            <div class="illusion-event-payment-summary-row">
              <label>#{locales['illusion.event.payment.handlingFee']}</label>
              <span>
                <h:outputFormat value="#{illusionEventPaymentBackingBean.handlingFee}">
                  <f:convertNumber currencyCode="#{illusionEventPaymentBackingBean.currency}" type="currency"/>
                </h:outputFormat>
              </span>
            </div>

            <div class="illusion-event-payment-summary-row">
              <h:outputLabel rendered="#{!illusionEventPaymentBackingBean.vatRegistered}" value="#{locales['illusion.event.payment.notVatRegistered']}"/>
              <h:outputLabel rendered="#{illusionEventPaymentBackingBean.vatRegistered}">
                <h:outputFormat value="#{locales['illusion.event.payment.taxAmount']}">
                  <f:param value="#{illusionEventPaymentBackingBean.vatPercent}"/>
                </h:outputFormat>
              </h:outputLabel>
              <span>
                <h:outputFormat value="#{illusionEventPaymentBackingBean.taxAmount}">
                  <f:convertNumber currencyCode="#{illusionEventPaymentBackingBean.currency}" type="currency"/>
                </h:outputFormat>
              </span>
            </div>

            <div class="illusion-event-payment-summary-row">
              <label>#{locales['illusion.event.payment.total']}</label>
              <span>
                <h:outputFormat value="#{illusionEventPaymentBackingBean.totalAmount}">
                  <f:convertNumber currencyCode="#{illusionEventPaymentBackingBean.currency}" type="currency"/>
                </h:outputFormat>
              </span>
            </div>
          </div>          
          
          <h:commandButton styleClass="illusion-event-payment-button" action="#{illusionEventPaymentBackingBean.proceedToPayment}" value="#{locales['illusion.event.payment.proceedToPaymentButton']}"/>
        </div>
      </div>
    </h:form>
    
  </ui:define>

</ui:composition>
