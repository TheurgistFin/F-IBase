<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" template="/WEB-INF/templates/gridbase.xhtml">

  <ui:define name="page-title">#{locales['forge.index.pageTitle']}</ui:define>
  
  <ui:define name="view-stylesheets">
    <link rel="StyleSheet" href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css"/>
  
    <h:outputStylesheet library="novus" name="css/fonts.css"/>
    <h:outputStylesheet library="novus" name="css/menu.css"/>
    <h:outputStylesheet library="novus" name="css/forge-index.css"/>
  </ui:define>
  
  <ui:define name="view-scripts">
    <!-- jQuery UI -->
    
    <script type="text/javascript" src="//code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    
    <!-- View Scripts -->
    
    <h:outputScript name="scripts/gui/forge-index.js"/>
  </ui:define>

  <ui:define name="grid-content">

    <!-- Menu -->

    <ui:include src="/facelets/menu.xhtml" />
    
    <h:panelGroup layout="block" styleClass="grid_16 tight view-header">
      <!-- Navigation -->

      <ui:include src="/facelets/forgenavigation.xhtml">    
        <ui:param name="folders" value="#{forgeFolderBackingBean.folders}"/>
      </ui:include>
      
      <!-- Description -->
  
      <h:panelGroup layout="block" styleClass="view-header-description">
        <p class="view-header-description-title">#{locales['forge.index.descriptionTitle']}</p>
        <p class="view-header-description-text">#{locales['forge.index.descriptionText']}</p>
      </h:panelGroup>
      
      <!-- Search -->
      
      <h:panelGroup layout="block" styleClass="forge-search-container">
        <input type="text" class="forge-search" placeholder="#{locales['forge.index.searchPlaceHolder']}"/>
        <h:panelGroup layout="block" styleClass="forge-search-loading" style="display: none"/>
        <h:panelGroup layout="block" styleClass="forge-search-result" style="display: none"/>
      </h:panelGroup>
    </h:panelGroup>

    <!-- Content -->
    
    <ui:include src="/facelets/forgemainviewbuttons.xhtml">
      <ui:param name="folderId" value="#{forgeFolderBackingBean.folderId}"/>
      <ui:param name="dropboxLinked" value="#{forgeFolderBackingBean.dropboxLinked}"/>
    </ui:include>
    
    <ui:include src="/facelets/forgemainviewmaterials.xhtml">
      <ui:param name="materials" value="#{forgeFolderBackingBean.materials}"/>
      <ui:param name="lastEditedMaterials" value="#{forgeFolderBackingBean.lastEditedMaterials}"/>
      <ui:param name="lastViewedMaterials" value="#{forgeFolderBackingBean.lastViewedMaterials}"/>
      <ui:param name="starredMaterials" value="#{forgeFolderBackingBean.starredMaterials}"/>
    </ui:include>
    
  </ui:define>

</ui:composition>
