<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:ui="http://java.sun.com/jsf/facelets" 
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" 
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  template="/WEB-INF/templates/gridbase-s.xhtml">
  
  <ui:define name="title">
    <title>#{locales['forge.public.pageTitle']}</title>
  </ui:define>
  
  <ui:define name="scripts">
    <script defer="defer" type="text/javascript" src="//static.forgeandillusion.net/libs/dustjs-linkedin/2.7.2/dust-full.min.js"></script>
    <script defer="defer" type="text/javascript" src="//static.forgeandillusion.net/libs/dustjs-helpers/1.7.3/dust-helpers.min.js"></script>
    <script defer="defer" type="text/javascript" src="/scripts/gui/dust.js"></script>
    <script defer="defer" type="text/javascript" src="//static.forgeandillusion.net/libs/clampjs/0.5.1/clamp.min.js"></script>
    <script defer="defer" type="text/javascript" src="/scripts/gui/forge-public.js"></script>
  </ui:define>

  <ui:define name="styles">
    <link rel="StyleSheet" href="/theme/css/forge-public.css"></link>
    <link rel="StyleSheet" href="/theme/css/flex-menu.css"></link>
  </ui:define>

  <ui:define name="grid-content">

    <!-- Menu -->

    <ui:include src="/facelets/flex-menu.xhtml" />
    
    <div class="flex-row view-header">
      <div class="flex-cell-full">
        <!-- Navigation -->
         
        <div class="flex-cell-row sm-flex-hide">
          <div class="view-header-navigation">
            <a class="view-header-navigation-item" jsf:outcome="/index.jsf">#{locales['forge.public.navigationIndex']}</a>
            <span class="view-header-navigation-separator"/>
            <a class="view-header-navigation-item" jsf:outcome="/forge/index.jsf">#{locales['forge.public.navigationForge']}</a>
            <span class="view-header-navigation-separator"/>
            <a class="view-header-navigation-item" jsf:outcome="/forge/public.jsf">#{locales['forge.public.navigationForgePublic']}</a>
          </div>
        </div>
        
        <div class="view-header-description">
          <p class="view-header-description-title">#{locales['forge.public.descriptionTitle']}</p>
          <p class="view-header-description-text">#{locales['forge.public.descriptionText']}</p>
        </div>
        
        <div class="view-header-search-container">
          <input type="text" class="view-header-search forge-search" placeholder="#{locales['forge.public.searchPlaceholder']}"/>
          <div class="view-header-search-loading forge-search-loading" style="display: none"/>
          <div class="view-header-search-result forge-search-result" style="display: none"/>
        </div>
      </div>
    </div> 
    
    <div class="flex-row forge-public">
      <div class="flex-cell-full">
        <div class="flex-row">
          <div class="flex-cell-12 flex-cell-first no-margin-top no-margin-bottom">
            <div class="flex-row">
              <div class="flex-cell-full index-box">
                <div class="flex-row">
                  <div class="flex-cell-full">
                    <h3>#{locales['forge.public.randomMaterial']}</h3>
                  </div>
                </div>
                
                <div class="flex-row">
                  <div class="flex-cell-full">
                    <ui:include src="/facelets/forgepublicmaterial.xhtml">
                      <ui:param name="material" value="#{forgePublicBackingBean.randomMaterial}" />
                    </ui:include>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="flex-row">
              <div class="lg-flex-cell-8 lg-flex-cell-first md-flex-cell-full sm-flex-cell-full index-box">
                <div class="flex-row">
                  <div class="flex-cell-full">
                    <h3>#{locales['forge.public.mostPopular']}</h3>
                  </div>
                </div>
                
                <div class="flex-row">
                  <div class="flex-cell-full">
                    <ui:include src="/facelets/forgepublicmaterialscompact.xhtml">
                      <ui:param name="materials" value="#{forgePublicBackingBean.mostPopularMaterial}" />
                    </ui:include>
                  </div>
                </div>
              </div>
              
              <div class="lg-flex-cell-8 lg-flex-cell-last md-flex-cell-full sm-flex-cell-full index-box">
                <div class="flex-row">
                  <div class="flex-cell-full">
                    <h3>#{locales['forge.public.latestMaterials']}</h3>
                  </div>
                </div>
                
                <div class="flex-row">
                  <div class="flex-cell-full">
                    <ui:include src="/facelets/forgepublicmaterialscompact.xhtml">
                      <ui:param name="materials" value="#{forgePublicBackingBean.latestMaterials}" />
                    </ui:include>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="flex-cell-4 flex-cell-last index-box">
            <div class="flex-row">
              <div class="flex-cell-full">
                <h3>#{locales['forge.public.tags']}</h3>
              </div>
            </div>
            
            <div class="flex-row">
              <div class="flex-cell-full">
                <ui:include src="/facelets/forgepublictags.xhtml">
                  <ui:param name="tags" value="#{forgePublicBackingBean.tags}" />
                </ui:include>
              </div>
            </div>
              
            <div class="more-container" style="display: none"> 
              <a jsf:outcome="/gamelibrary/index.jsf" class="more-link">#{locales['index.gameLibraryMoreLink']}</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </ui:define>    

</ui:composition>
