<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:ui="http://java.sun.com/jsf/facelets" 
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" 
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
  template="/WEB-INF/templates/gridbase.xhtml">

  <ui:define name="page-title">#{locales['gamelibrary.proposegame.pageTitle']}</ui:define>
  
  <ui:define name="view-scripts">
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-tagsinput/1.3.3/jquery.tagsinput.min.js"/>
    <script type="text/javascript" charset="utf8" src="//cdnjs.cloudflare.com/ajax/libs/blueimp-file-upload/9.5.7/jquery.fileupload.min.js"/>
    <script type="text/javascript" charset="utf8" src="//cdnjs.cloudflare.com/ajax/libs/blueimp-file-upload/9.5.7/jquery.iframe-transport.min.js"/>
    <h:outputScript name="scripts/uploadfield/uploadfield.js"/>

    <!-- View scripts -->
    
    <h:outputScript name="scripts/gui/gamelibrary-propose-game.js"/>
  </ui:define>
  
  <ui:define name="view-stylesheets">
    <link rel="StyleSheet" href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css"/>
    <link rel="StyleSheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery-tagsinput/1.3.3/jquery.tagsinput.css"/>
    <h:outputStylesheet library="novus" name="css/flex-menu.css"/>
    <h:outputStylesheet library="novus" name="css/gamelibrary-propose-game.css"/>
    <h:outputStylesheet library="novus" name="css/gamelibrary-common.css"/>
    <h:outputStylesheet library="novus" name="css/gamelibrary.css"/>
  </ui:define>

  <ui:define name="grid-content">

    <!-- Menu -->

    <ui:include src="/facelets/flex-menu.xhtml" />
    
    <div class="flex-row view-header">
      <div class="flex-cell-full">
        <!-- Navigation -->
         
        <div class="flex-cell-row sm-flex-hide">
          <div class="view-header-navigation">
            <h:link styleClass="view-header-navigation-item" outcome="/index.jsf">#{locales['gamelibrary.proposegame.navigationIndex']}</h:link>
            <span class="view-header-navigation-separator"/>
            <h:link styleClass="view-header-navigation-item" outcome="/gamelibrary/index.jsf">#{locales['gamelibrary.proposegame.navigationGameLibrary']}</h:link>
            <span class="view-header-navigation-separator"/>
            <h:link styleClass="view-header-navigation-item" outcome="/gamelibrary/index.jsf">#{locales['gamelibrary.proposegame.navigationProposeGame']}</h:link>
          </div>
        </div>

        <!-- Description -->
    
        <div class="view-header-description">
          <p class="view-header-description-title">#{locales['gamelibrary.proposegame.descriptionTitle']}</p>
          <p class="view-header-description-text">#{locales['gamelibrary.proposegame.descriptionText']}</p>
        </div>
      </div>
    </div> 
    
    <h:form>
      <div class="flex-row">
        <div class="flex-cell-full index-box">
          <div class="flex-row">
            <div class="flex-cell-full">
              <h3>#{locales['gamelibrary.proposegame.proposeGameTitle']}</h3>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-cell-full">
              <h:outputLabel value="#{locales['gamelibrary.proposegame.nameLabel']}" />
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <input class="gamelibrary-propose-game-form-name" type="text" jsf:value="#{gameLibraryProposeGameBackingBean.name}" required="required"/>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-cell-full">
              <h:outputLabel value="#{locales['gamelibrary.proposegame.descriptionLabel']}" />
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <textarea class="gamelibrary-propose-game-form-description" jsf:value="#{gameLibraryProposeGameBackingBean.description}" required="required"></textarea>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-cell-full">
              <h:outputLabel value="#{locales['gamelibrary.proposegame.languageLabel']}" />
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <h:selectOneMenu styleClass="gamelibrary-propose-game-form-language" value="#{gameLibraryProposeGameBackingBean.languageId}">
                <f:selectItems 
                  var="language" 
                  value="#{gameLibraryProposeGameBackingBean.languages}"
                  itemValue="#{language.id}" 
                  itemLabel="#{locales['generic.languages.'.concat(language.ISO3)]}"/>
              </h:selectOneMenu>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-cell-full">
              <h:outputLabel value="#{locales['gamelibrary.proposegame.tagsLabel']}" />
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <input type="text" jsf:value="#{gameLibraryProposeGameBackingBean.tags}" class="gamelibrary-propose-game-form-tags" data-existing-tags="#{gameLibraryProposeGameBackingBean.existingTags}" data-help-text="#{locales['gamelibrary.proposegame.tagsHelpText']}"/>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-cell-full">
              <h:outputLabel value="#{locales['gamelibrary.proposegame.authorsShareLabel']}" />
              <div class="info lg-flex-hide sm-flex-hide">#{locales['gamelibrary.proposegame.authorsShareInfo']}</div>
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <input class="gamelibrary-propose-game-form-authors-share" type="number" step="0.01" jsf:value="#{gameLibraryProposeGameBackingBean.authorsShare}"/>
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-hide md-flex-cell-full sm-flex-cell-full">
              <div class="info">#{locales['gamelibrary.proposegame.authorsShareInfo']}</div>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-cell-full">
              <h:outputLabel value="#{locales['gamelibrary.proposegame.licenseLabel']}" />
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <h:selectOneMenu value="#{gameLibraryProposeGameBackingBean.licenseType}" styleClass="gamelibrary-propose-game-license-select" p:required="required">
                <f:selectItem itemValue="CREATIVE_COMMONS" itemLabel="#{locales['gamelibrary.proposegame.licenseCreativeCommons']}"/>
                <f:selectItem itemValue="OTHER" itemLabel="#{locales['gamelibrary.proposegame.licenseOther']}"/>
              </h:selectOneMenu>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section gamelibrary-propose-game-form-section-cc">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-hide"></div>
            <div class="lg-flex-cell-12 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <div class="flex-row">
                <div class="flex-cell-full">
                  <h:outputLabel value="#{locales['gamelibrary.proposegame.licenseCreativeCommonsAllowModifications']}" />
                </div>
              </div>
              
              <div class="flex-row">
                <div class="flex-cell-full">
                  <h:selectOneRadio styleClass="gamelibrary-propose-game-form-creative-commons-derivatives" value="#{gameLibraryProposeGameBackingBean.creativeCommonsDerivatives}" p:required="required">
                    <f:selectItem itemValue="YES" itemLabel="#{locales['gamelibrary.proposegame.licenseCreativeCommonsAllowModificationsYes']}"/>
                    <f:selectItem itemValue="NO" itemLabel="#{locales['gamelibrary.proposegame.licenseCreativeCommonsAllowModificationsNo']}"/>
                    <f:selectItem itemValue="SHARE_ALIKE" itemLabel="#{locales['gamelibrary.proposegame.licenseCreativeCommonsAllowModificationsShare']}"/>
                  </h:selectOneRadio>
                </div>
              </div>

              <div class="flex-row">
                <div class="flex-cell-full">
                  <h:outputLabel value="#{locales['gamelibrary.proposegame.licenseCreativeCommonsAllowCommercial']}" />
                </div>
              </div>
              
              <div class="flex-row">
                <div class="flex-cell-full">
                  <h:selectOneRadio styleClass="gamelibrary-propose-game-form-creative-commons-commercial" value="#{gameLibraryProposeGameBackingBean.creativeCommonsCommercial}" p:required="required">
                    <f:selectItem itemValue="YES" itemLabel="#{locales['gamelibrary.proposegame.licenseCreativeCommonsAllowCommercialYes']}"/>
                    <f:selectItem itemValue="NO" itemLabel="#{locales['gamelibrary.proposegame.licenseCreativeCommonsAllowCommercialNo']}"/>
                  </h:selectOneRadio>
                </div>
              </div>
              
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section gamelibrary-propose-game-form-section-otherlicense">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-cell-full">
              <h:outputLabel value="#{locales['gamelibrary.proposegame.linkToLicense']}" />
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <input class="gamelibrary-propose-game-form-license-other" type="text" jsf:value="#{gameLibraryProposeGameBackingBean.licenseOther}" required="required"/>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section gamelibrary-propose-game-form-section-image">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-cell-full">
              <h:outputLabel value="#{locales['gamelibrary.proposegame.imageFileLabel']}" />
              <div class="info lg-flex-hide sm-flex-hide">#{locales['gamelibrary.proposegame.imageFileInfo']}</div>
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <input type="file" name="image" required="required"/>
              <input type="hidden" name="image-file-id" jsf:value="#{gameLibraryProposeGameBackingBean.imageFileId}"/>
              <input type="hidden" name="image-filename" jsf:value="#{gameLibraryProposeGameBackingBean.imageFileName}"/>
              <input type="hidden" name="image-content-type" jsf:value="#{gameLibraryProposeGameBackingBean.imageContentType}"/>
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-hide sm-flex-cell-full">
              <div class="info">#{locales['gamelibrary.proposegame.imageFileInfo']}</div>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section gamelibrary-propose-game-form-section-downloadable">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-cell-full">
              <h:outputLabel value="#{locales['gamelibrary.proposegame.downloadableFileLabel']}" />
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <input type="file" name="downloadable"/>
              <input type="hidden" name="downloadable-file-id" jsf:value="#{gameLibraryProposeGameBackingBean.downloadableFileId}"/>
              <input type="hidden" name="downloadable-filename" jsf:value="#{gameLibraryProposeGameBackingBean.downloadableFileName}"/>
              <input type="hidden" name="downloadable-content-type" jsf:value="#{gameLibraryProposeGameBackingBean.downloadableContentType}"/>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section gamelibrary-propose-game-form-section-printable">
            <div class="lg-flex-cell-4 lg-flex-cell-first md-flex-cell-6 md-flex-cell-first sm-flex-cell-full">
              <h:outputLabel value="#{locales['gamelibrary.proposegame.printableFileLabel']}" />
            </div>
            <div class="lg-flex-cell-6 lg-flex-cell-last md-flex-cell-10 md-flex-cell-last sm-flex-cell-full">
              <input type="file" name="printable"/>
              <input type="hidden" name="printable-file-id" jsf:value="#{gameLibraryProposeGameBackingBean.printableFileId}"/>
              <input type="hidden" name="printable-filename" jsf:value="#{gameLibraryProposeGameBackingBean.printableFileName}"/>
              <input type="hidden" name="printable-content-type" jsf:value="#{gameLibraryProposeGameBackingBean.printableContentType}"/>
            </div>
          </div>
          
          <div class="flex-row gamelibrary-propose-game-form-section">
            <div class="flex-cell-full">
              <h:commandButton styleClass="gamelibrary-propose-game-send" action="#{gameLibraryProposeGameBackingBean.send}" value="#{locales['gamelibrary.proposegame.sendButton']}"/>
            </div>
          </div>
        </div>
      </div>
    </h:form>
   
  </ui:define>

</ui:composition>
