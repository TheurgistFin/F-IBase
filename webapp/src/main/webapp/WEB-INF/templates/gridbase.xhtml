<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:h="http://java.sun.com/jsf/html" 
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets" lang="#{sessionBackingBean.locale.language}">
  <f:view locale="#{sessionBackingBean.locale}" encoding="UTF-8">
    <ui:insert name="metadata"/>
    <h:head>
      <!-- Favicon -->
      
      <link rel="icon" type="image/png" href="#{request.contextPath}/favicon.png"/>
     
      <!-- Title -->
    
      <title><ui:insert name="page-title"></ui:insert></title>
      
      <!-- View Port -->
      
      <meta http-equiv="x-ua-compatible" content="ie=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
      
      <!-- Generic Styles -->
      
      <h:outputStylesheet library="novus" name="css/common.css"/>
      <h:outputStylesheet library="novus" name="css/messages.css"/>
      <h:outputStylesheet library="novus" name="css/menu.css"/>
      <h:outputStylesheet library="novus" name="css/fonts.css"/>
      <h:outputStylesheet library="novus" name="css/grid.css"/>
      
      <!-- Global Variables -->
      
      <script type="text/javascript">
        var LOCALE = '#{sessionBackingBean.locale.language}';
        var CONTEXTPATH = '#{request.contextPath}';
      </script>
      
      <!-- jQuery -->
 
      <script type="text/javascript" charset="utf8" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
      
      <!-- Dust -->
      
      <script type="text/javascript" charset="utf8" src="//cdnjs.cloudflare.com/ajax/libs/dustjs-linkedin/2.0.0/dust-full.min.js"></script>
      <h:outputScript name="scripts/dust-helpers/dust-helpers-1.1.1.js"/>
      <h:outputScript name="scripts/gui/dust.js"></h:outputScript>
      
      <!-- Cookies Directive -->
      
      <h:outputScript name="/scripts/cookiesdirective/jquery.cookiesdirective.js"></h:outputScript>
      <h:outputScript name="/scripts/gui/cookiesdirective.js"></h:outputScript>
      
      <!-- Piwik url -->
      <ui:fragment rendered="#{piwikBackingBean.hasPiwikUrl}">
        <script type="text/javascript" src="//#{piwikBackingBean.piwikUrl}/piwik.js"></script>
        <script type="text/javascript" charset="utf8">
          var PIWIK_BASEURL = "//#{piwikBackingBean.piwikUrl}/";
          var PIWIK_SITEID = #{piwikBackingBean.piwikSiteId};
        </script>
      </ui:fragment>

      <h:outputScript name="/scripts/gui/messages.js"></h:outputScript>

      <ui:insert name="view-stylesheets"/>
      <ui:insert name="view-scripts"/>
      <ui:insert name="view-custom-head"/>
    </h:head>      
    <h:body>
      <h:panelGroup layout="block" styleClass="jsf-messages-container">
        <ui:insert name="messages">
          <ul>
            <ui:repeat var="message" value="#{facesContext.messageList}">
              <ui:fragment rendered="#{message.severity.ordinal eq 0}">
                <li class="info">
                  <span>#{message.summary}</span>
                  <a href="javascript:void(null)"></a>
                </li>
              </ui:fragment>
              <ui:fragment rendered="#{message.severity.ordinal eq 1}">
                <li class="warning">
                  <span>#{message.summary}</span>
                  <a href="javascript:void(null)"></a>
                </li>
              </ui:fragment>
              <ui:fragment rendered="#{message.severity.ordinal eq 2}">
                <li class="error">
                  <span>#{message.summary}</span>
                  <a href="javascript:void(null)"></a>
                </li>
              </ui:fragment>
              <ui:fragment rendered="#{message.severity.ordinal eq 3}">
                <li class="error">
                  <span>#{message.summary}</span>
                  <a href="javascript:void(null)"></a>
                </li>
              </ui:fragment>
              <ui:fragment rendered="#{message.severity.ordinal gt 3}">
                <li>
                  <span>#{message.summary}</span>
                  <a href="javascript:void(null)"></a>
                </li>
              </ui:fragment>
            </ui:repeat>
          </ul>
          <h:messages globalOnly="false" style="display: none"/>
        </ui:insert>
      </h:panelGroup>
      
      <ui:insert name="body-content">
        <h:panelGroup layout="block" styleClass="container_16">
          <ui:insert name="grid-content"/>
        </h:panelGroup> 
      </ui:insert>

      <ui:insert name="footer">
        <h:panelGroup layout="block" styleClass="footer">
          <h:panelGroup layout="block" styleClass="container_16">
            <h:panelGroup layout="block" styleClass="grid_8">
              <h:panelGroup layout="block" styleClass="footer-logo-container">
                <h:panelGroup layout="block" styleClass="footer-logo-oo"></h:panelGroup>
              </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup layout="block" styleClass="grid_8">
              <h:panelGroup layout="block" styleClass="footer-logo-container">
                <h:panelGroup layout="block" styleClass="footer-logo-foyt"></h:panelGroup>
              </h:panelGroup>
            </h:panelGroup>
          </h:panelGroup>
        </h:panelGroup>
      </ui:insert>
      
      <!-- UserVoice -->
      <ui:include src="/facelets/uservoice.xhtml" />
      
      <!-- Piwik -->
      <h:outputScript name="/scripts/gui/piwik.js" rendered="#{piwikBackingBean.hasPiwikUrl}"></h:outputScript>
      <ui:fragment rendered="#{piwikBackingBean.hasPiwikUrl}">
        <noscript><p><img src="//#{piwikBackingBean.piwikUrl}/piwik.php?idsite=#{piwikBackingBean.piwikSiteId}" style="border:0" alt="" /></p></noscript>
      </ui:fragment>
    </h:body>
  </f:view>
</html>