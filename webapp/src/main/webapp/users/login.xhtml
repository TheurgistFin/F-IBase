<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:ui="http://java.sun.com/jsf/facelets" 
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" 
  template="/WEB-INF/templates/gridbase.xhtml">

  <ui:define name="page-title">#{locales['users.login.pageTitle']}</ui:define>
 
  <ui:define name="view-scripts">
    <!-- md5 -->
    
    <script type="text/javascript" charset="utf8" src="//cdn.jsdelivr.net/jshash/2.2/md5-min.js"></script>
    
    <!-- JQuery UI -->
    
    <script type="text/javascript" src="//code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    
    <!-- View scripts -->
    
    <h:outputScript name="scripts/gui/users-login.js"></h:outputScript>
  </ui:define>
  
  <ui:define name="view-stylesheets">
    
    <!-- JQuery UI -->
    
    <link rel="StyleSheet" href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css"/>
    
    <!-- View styles -->
    
    <h:outputStylesheet library="novus" name="css/users-login.css"/>
    
  </ui:define>

  <ui:define name="grid-content">

    <!-- Menu -->

    <ui:include src="/facelets/menu.xhtml" />
    
    <!-- Header -->
    
    <h:panelGroup layout="block" styleClass="grid_16 tight view-header">

      <!-- Navigation -->
      
      <h:panelGroup layout="block" styleClass="view-header-navigation">
        <h:link styleClass="view-header-navigation-item" outcome="/index.jsf">#{locales['users.login.navigationIndex']}</h:link>
        <h:panelGroup styleClass="view-header-navigation-separator"/>
        <h:link styleClass="view-header-navigation-item" outcome="/users/login.jsf">#{locales['users.login.navigationLogin']}</h:link>
      </h:panelGroup>
        
      <!-- Description -->
  
      <h:panelGroup layout="block" styleClass="view-header-description">
        <p class="view-header-description-title">#{locales['users.login.descriptionTitle']}</p>
        <p class="view-header-description-text">#{locales['users.login.descriptionText']}</p>
      </h:panelGroup>
    </h:panelGroup>
    
    <h:panelGroup layout="block" styleClass="grid_16 tight">
      <h:panelGroup layout="block" styleClass="grid_8 alpha slim-right">
        <h:panelGroup layout="block" styleClass="user-login-login-panel">
          <h3>#{locales['users.login.loginTitle']}</h3>
        
          <h:form>
            <h:panelGroup layout="block">
              <h:panelGroup layout="block" styleClass="user-login-field">
                <h:outputLabel value="#{locales['users.login.loginEmailTitle']}" />
                <h:inputText value="#{loginBackingBean.loginEmail}" id="email" required="true" requiredMessage="#{locales['users.login.loginEmailRequired']}"/>
              </h:panelGroup>  
              
              <h:panelGroup layout="block" styleClass="user-login-field">
                <h:outputLabel value="#{locales['users.login.loginPasswordTitle']}" />
                <h:inputSecret value="#{loginBackingBean.loginPassword}" id="password"/>
              </h:panelGroup>
        
              <h:panelGroup layout="block" styleClass="user-login-field">
                <h:commandButton action="#{loginBackingBean.login}" value="#{locales['users.login.loginButton']}" />
              </h:panelGroup>
            </h:panelGroup>
          </h:form>
          
          <h:panelGroup styleClass="users-login-forgot">
            <h:form>
              <h:outputLink styleClass="users-login-forgot-password-link" value="javascript:void(null);">#{locales['users.login.forgotPasswordLink']}</h:outputLink>
              <h:inputHidden id="users-login-forgot-password-email" value="#{loginBackingBean.forgotPasswordEmail}" />     
              <h:commandLink styleClass="users-login-forgot-password-send" action="#{loginBackingBean.forgotPassword}" style="display:none"/>
            </h:form>
          </h:panelGroup>

          <h:panelGroup layout="block" styleClass="user-login-external">
            <h4>#{locales['users.login.externalLoginTitle']}</h4>
            <h:link outcome="/users/login.jsf">
              <f:param name="loginMethod" value="FACEBOOK"/>
              <h:graphicImage library="novus" name="/gfx/icons/48x48/users/login-facebook.png"/>
              <h:panelGroup styleClass="user-login-external-label">#{locales['users.login.loginWithFacebook']}</h:panelGroup>
            </h:link>
            
            <h:link outcome="/users/login.jsf">
              <f:param name="loginMethod" value="GOOGLE"/>
              <h:graphicImage library="novus" name="/gfx/icons/48x48/users/login-google.png"/>
              <h:panelGroup styleClass="user-login-external-label">#{locales['users.login.loginWithGoogle']}</h:panelGroup>
            </h:link>
          </h:panelGroup>
          
        </h:panelGroup>
      </h:panelGroup>
      <h:panelGroup layout="block" styleClass="grid_8 omega slim-left">
        <h:panelGroup layout="block" styleClass="user-login-register-panel">
          <h3>#{locales['users.login.registerTitle']}</h3>
          
          <h:form>
            <h:panelGroup layout="block" styleClass="user-login-field">
              <h:outputLabel value="#{locales['users.login.registerFirstNameTitle']}"/>
              <h:inputText value="#{loginBackingBean.registerFirstName}" required="true" requiredMessage="#{locales['users.login.registerFirstNameRequired']}"/>
            </h:panelGroup>
          
            <h:panelGroup layout="block" styleClass="user-login-field">
              <h:outputLabel value="#{locales['users.login.registerLastNameTitle']}"/>
              <h:inputText value="#{loginBackingBean.registerLastName}" required="true" requiredMessage="#{locales['users.login.registerLastNameRequired']}"/>
            </h:panelGroup>

            <h:panelGroup layout="block" styleClass="user-login-field">
              <h:outputLabel value="#{locales['users.login.registerEmailTitle']}"/>
              <h:inputText value="#{loginBackingBean.registerEmail}" required="true" requiredMessage="#{locales['users.login.registerEmailRequired']}"/>
            </h:panelGroup>

            <h:panelGroup layout="block" styleClass="user-login-field">
              <h:outputLabel value="#{locales['users.login.registerPasswordTitle']}"/>
              <h:inputSecret id="password1"/>
              <h:inputHidden value="#{loginBackingBean.registerPassword1}" id="password1-encoded"/>
            </h:panelGroup>

            <h:panelGroup layout="block" styleClass="user-login-field">
              <h:outputLabel value="#{locales['users.login.registerPassword2Title']}"/>
              <h:inputSecret id="password2"/>
              <h:inputHidden value="#{loginBackingBean.registerPassword2}" id="password2-encoded"/>
            </h:panelGroup>

            <h:panelGroup layout="block" styleClass="user-login-field">
              <h:commandButton action="#{loginBackingBean.register}" value="#{locales['users.login.registerButton']}" />
            </h:panelGroup>
            </h:form>  
        </h:panelGroup>
      </h:panelGroup>
    </h:panelGroup>
  </ui:define>

</ui:composition>
